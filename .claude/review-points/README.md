# レビュー観点ディレクトリ

このディレクトリには、`/review-code` スラッシュコマンドで使用されるレビュー観点が格納されています。

## 使い方

1. 新しいレビュー観点を追加するには、このディレクトリに `.md` ファイルを作成
2. ファイル名がレビュー観点の識別子になります（例: `typescript.md` → TypeScriptチェック）
3. `/review-code` コマンドは、このディレクトリ内のすべての `.md` ファイルを読み込み、対応するレビューを実行します

## ファイル形式

各 `.md` ファイルは以下の形式で記述してください：

```markdown
# レビュー観点名

## 説明
このレビュー観点の目的

## 適用条件
このレビュー観点を適用するファイルの条件：
- 条件1（例: ファイル名に `xxx` を含む）
- 条件2（例: `src/utils/` 内のファイル）

## チェック項目
- [ ] チェック項目1
- [ ] チェック項目2

## 重要度
high / medium / low

## 関連ファイル（任意）
- `src/xxx/`
```

## レビューフロー

```
┌───────────────────────────────────────┐
│  1. ファイル分類 (classify-files)     │
│     - git diff の変更ファイルを列挙   │
│     - 各ファイルに適用する観点を判定   │
│     - カバーできないファイルを報告     │
│     - 新観点のサジェストを生成        │
└─────────────────┬─────────────────────┘
                  ↓
┌───────────────────────────────────────┐
│  2. 個別レビュー (review-file)        │
│     - 1ファイル×1観点 = 1レビュー     │
│     - 並列実行可能                    │
└─────────────────┬─────────────────────┘
                  ↓
┌───────────────────────────────────────┐
│  3. 修正計画 → 修正実行 → 再レビュー  │
└───────────────────────────────────────┘
```

## レビュー対象

- **対象**: `git diff` に含まれる全ての変更ファイル（src/以外も含む）
- **除外**: `.gitkeep`, `node_modules/`, `dist/`, `.claude/reports/`

## ファイル×観点マトリクス

レビューはファイルと観点の組み合わせで実行されます：

| ファイル | typescript | coordinates | specification |
|----------|------------|-------------|---------------|
| App.tsx | PASS | - | - |
| coordinateTransform.ts | PASS | PASS | - |
| types/index.ts | PASS | - | PASS |

- `PASS`: 問題なし
- `WARN`: 軽微な問題あり
- `FAIL`: 重大な問題あり
- `-`: この観点は適用対象外

## 観点の追加タイミング

- implement サブエージェントの実行中に問題が発見された場合
- コードレビューで繰り返し指摘される項目がある場合
- プロジェクト固有のルールを追加したい場合

## 現在の観点

| ファイル | 説明 | 重要度 |
|----------|------|--------|
| `typescript.md` | TypeScript型安全性チェック | high |
| `coordinates.md` | 座標系の分離チェック | high |
| `specification.md` | 仕様準拠チェック | high |
| `project-structure.md` | プロジェクト構造チェック（不用意なファイル追加防止） | high |
