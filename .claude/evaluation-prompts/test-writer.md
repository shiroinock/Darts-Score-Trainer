# test-writer サブエージェント評価プロンプト

以下は test-writer サブエージェントの実行情報です。

---サブエージェント情報---
{EVALUATION_INPUT}
---情報終了---

## 評価前の準備

**重要**: ダーツの点数に関わるテストの評価を行う場合、必ず `darts-domain` skill を参照してください：

```
Use the darts-domain skill to load comprehensive darts scoring rules before evaluating test quality.
```

## 評価タスク

このサブエージェントの実行結果を評価し、`.claude/agents/test-writer.md` の指示内容に改善すべき点があれば、そのファイルに追記してください。

## 評価観点

### 1. テストの品質
- **ドメイン知識の正確性**（ダーツ関連の場合）: 有効/無効な得点が正しく判定されているか
- テストが適切に失敗しているか（Redフェーズとして正しいか）
- テストケースがエッジケースを含むか
- アサーションが明確で理解しやすいか
- テストケースの網羅性（正常系、異常系、境界値）

### 2. テストパターンの適用
- 指定されたテストパターン（unit/store/hook/component）を正しく適用しているか
- Vitest + Testing Libraryの慣用句に従っているか
- describe/testの使い分けが適切か

### 3. コード規約
- Arrange-Act-Assertパターンに従っているか
- テスト名が日本語で分かりやすいか
- 各テストが独立しているか

### 4. プロジェクト固有の要件
- 座標系の分離（物理座標vs画面座標）を理解しているか
- ダーツボード仕様の定数値を正しく使用しているか

## 改善アクション

評価結果に基づき、以下のいずれかを実行してください：

### 問題がある場合
`.claude/agents/test-writer.md` に以下を追記：

1. **不足していたガイドライン**
   - 例: 「エッジケースのテストを必ず含めてください」
   - 例: 「座標値は物理座標系（mm）で検証してください」

2. **具体的な実装例**
   - 良い例/悪い例のコードスニペット

3. **注意事項**
   - 繰り返し発生する問題への警告

### 問題がない場合
- 何もしないでください

## 重要な注意事項

- サブエージェント(Task tool)を再帰的に呼び出さないでください
- Edit ツールと Read ツールのみを使用してください
- ファイルの変更は `.claude/agents/test-writer.md` のみに限定してください
